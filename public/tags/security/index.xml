<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Security on Nobuhiro Tokushige - AI &amp; Cloud Solutions</title>
    <link>http://localhost:1313/tags/security/</link>
    <description>Recent content in Security on Nobuhiro Tokushige - AI &amp; Cloud Solutions</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 15 Jun 2025 17:12:59 +1000</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/security/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>AWS STS - Temporary Access Tokens</title>
      <link>http://localhost:1313/posts/aws-sts-temporary-access-tokens/</link>
      <pubDate>Sun, 15 Jun 2025 17:12:59 +1000</pubDate>
      <guid>http://localhost:1313/posts/aws-sts-temporary-access-tokens/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;2025-06-15-17-14-28.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;1-generate-temporary-credentials&#34;&gt;1. Generate Temporary Credentials&lt;/h3&gt;&#xA;&lt;p&gt;First, use the AWS STS (Security Token Service) to generate temporary credentials:&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# 3600 x 5 = 18000 (5 hours)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;aws sts get-session-token --duration-seconds &lt;span style=&#34;color:#ae81ff&#34;&gt;18000&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This will return something like:&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;Credentials&amp;#34;&lt;/span&gt;: {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;AccessKeyId&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ASIA...&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;SecretAccessKey&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;SessionToken&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;...&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;Expiration&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2025-06-13T...&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-set-environment-variables&#34;&gt;2. Set Environment Variables&lt;/h3&gt;&#xA;&lt;p&gt;Then set these environment variables:&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Replace the values with your actual credentials from the previous step.&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export AWS_ACCESS_KEY_ID&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;your_access_key&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export AWS_SECRET_ACCESS_KEY&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;your_secret_key&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export AWS_SESSION_TOKEN&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;your_session_token&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export AWS_DEFAULT_REGION&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ap-southeast-2&amp;#34;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Sydney region&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;3-verify-the-environment-variables&#34;&gt;3. Verify the environment variables&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;env | grep AWS&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;After setting these variables, try running your Python script again. The credentials will be automatically picked up by the AWS SDK.&lt;/p&gt;</description>
    </item>
    <item>
      <title>AWS Credentials for CLI</title>
      <link>http://localhost:1313/posts/aws-credentials-for-cli/</link>
      <pubDate>Sun, 15 Jun 2025 17:07:00 +1000</pubDate>
      <guid>http://localhost:1313/posts/aws-credentials-for-cli/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;2025-06-15-17-10-26.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;1-using-aws-cli-configuration&#34;&gt;1. Using AWS CLI Configuration&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;aws configure&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This will prompt you to enter:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;AWS Access Key ID&lt;/li&gt;&#xA;&lt;li&gt;AWS Secret Access Key&lt;/li&gt;&#xA;&lt;li&gt;Default region name&lt;/li&gt;&#xA;&lt;li&gt;Default output format&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;2-environment-variables&#34;&gt;2. Environment Variables&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export AWS_ACCESS_KEY_ID&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;your_access_key&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export AWS_SECRET_ACCESS_KEY&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;your_secret_key&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export AWS_DEFAULT_REGION&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;your_region&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;3-credentials-file&#34;&gt;3. Credentials File&lt;/h3&gt;&#xA;&lt;p&gt;Create or edit ~/.aws/credentials:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[default]&#xD;&#xA;aws_access_key_id = your_access_key&#xD;&#xA;aws_secret_access_key = your_secret_key&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;4-clear-aws-cli-configuration-optional&#34;&gt;4. Clear AWS CLI Configuration (OPTIONAL)&lt;/h3&gt;&#xA;&lt;p&gt;To clear your AWS CLI credentials, you have several options:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Delete the credentials file: &lt;code&gt;rm ~/.aws/credentials&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Delete the config file: &lt;code&gt;rm ~/.aws/config&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Clear specific profile: &lt;code&gt;aws configure --profile your_profile_name&lt;/code&gt; and press Enter without entering values&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Remove both credentials and config files&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rm ~/.aws/credentials ~/.aws/config&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;After clearing the credentials, you can reconfigure them using any of the methods described above.&lt;/p&gt;</description>
    </item>
    <item>
      <title>OpenSSL - Verify Certificate</title>
      <link>http://localhost:1313/posts/openssl-verify-certificate/</link>
      <pubDate>Thu, 24 Apr 2025 17:41:29 +1000</pubDate>
      <guid>http://localhost:1313/posts/openssl-verify-certificate/</guid>
      <description>&lt;h3 id=&#34;verify-the-certificate&#34;&gt;Verify the certificate&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl x509 -in server/certs/client.crt -text -noout&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl x509 -in server/certs/server.crt -text -noout&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;verify-the-certificate-chain&#34;&gt;Verify the certificate chain&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# First, concatenate the CA certificates (leaf to root)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cat mid-ca.crt ca.cert &amp;gt; ca-bundle.crt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Then verify using the chain file&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl verify -CAfile ca-bundle.crt server/certs/client.crt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl verify -CAfile ca-bundle.crt server/certs/server.crt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;&#xA;&lt;h2 id=&#34;see-also&#34;&gt;See also:&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-intial-setup/&#34;&gt;OpenSSL - Initial Setup&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-ca/&#34;&gt;OpenSSL (1) - Root CA&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-intermediate-ca/&#34;&gt;OpenSSL (2) - Intermediate CA&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-server-certificate/&#34;&gt;OpenSSL (3) - Server Certificate&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>OpenSSL - Revoke Certificate</title>
      <link>http://localhost:1313/posts/openssl-revoke-certificate/</link>
      <pubDate>Thu, 24 Apr 2025 17:19:22 +1000</pubDate>
      <guid>http://localhost:1313/posts/openssl-revoke-certificate/</guid>
      <description>&lt;hr&gt;&#xA;&lt;h2 id=&#34;revoke-a-certificate&#34;&gt;Revoke a certificate&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl ca -config mid-ca/mid-ca.crt -revoke server/certs/server.crt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cat mid-ca/index&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;2025-04-24-18-22-40.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;see-also&#34;&gt;See also:&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-intial-setup/&#34;&gt;OpenSSL - Initial Setup&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-ca/&#34;&gt;OpenSSL (1) - Root CA&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-intermediate-ca/&#34;&gt;OpenSSL (2) - Intermediate CA&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-server-certificate/&#34;&gt;OpenSSL (3) - Server Certificate&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-client-certificate/&#34;&gt;OpenSSL (4) - Client Certificate&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-verify-certificate/&#34;&gt;OpenSSL - Verify Certificate&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-revoke-certificate/&#34;&gt;OpenSSL - Revoke Certificate&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>OpenSSL (4) - Client Certificate</title>
      <link>http://localhost:1313/posts/openssl-client-certificate/</link>
      <pubDate>Thu, 24 Apr 2025 16:52:01 +1000</pubDate>
      <guid>http://localhost:1313/posts/openssl-client-certificate/</guid>
      <description>&lt;h2 id=&#34;create-a-client-certificate&#34;&gt;&lt;strong&gt;Create a Client Certificate&lt;/strong&gt;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;1-generate-a-client-key-file&#34;&gt;1. Generate a client key file&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl genrsa -out server/private/client.key &lt;span style=&#34;color:#ae81ff&#34;&gt;2048&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-generate-a-client-certificate-signing-request-csr&#34;&gt;2. Generate a client Certificate Signing Request (CSR)&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl req -config mid-ca/mid-ca.conf -key server/private/client.key -new -sha256 -out server/csr/client.csr&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;e.g., CN=GCS-Client-Certificate-v0x&lt;/p&gt;&#xA;&lt;h3 id=&#34;3-sign-the-client-csr-using-the-client_cert-extension&#34;&gt;3. Sign the client CSR using the client_cert extension&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl ca -config mid-ca/mid-ca.conf -extensions client_cert -days &lt;span style=&#34;color:#ae81ff&#34;&gt;3650&lt;/span&gt; -notext -in server/csr/client.csr -out server/client-certs/client.crt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;4-generate-client-pfx-if-needed&#34;&gt;4. Generate client PFX (if needed)&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl pkcs12 -inkey server/private/client.key -in server/client-certs/client.crt -export -out server/client-certs/client.pfx -passout pass:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;&#xA;&lt;h2 id=&#34;see-also&#34;&gt;See also:&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/download-from-cloudshell/&#34;&gt;Download from CloudShell&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>OpenSSL - Initial Setup</title>
      <link>http://localhost:1313/posts/openssl-intial-setup/</link>
      <pubDate>Mon, 10 Mar 2025 21:36:31 +0900</pubDate>
      <guid>http://localhost:1313/posts/openssl-intial-setup/</guid>
      <description>&lt;h2 id=&#34;openssl-initial-setup&#34;&gt;OpenSSL Initial Setup&lt;/h2&gt;&#xA;&lt;h3 id=&#34;1-create-a-folder-structure&#34;&gt;1. Create a folder structure&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir -p certs/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;ca,mid-ca,server&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;private,certs,newcerts,crl,csr&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;2025-03-10-21-48-33.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;2-change-the-permissions&#34;&gt;2. Change the permissions&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chmod -v &lt;span style=&#34;color:#ae81ff&#34;&gt;700&lt;/span&gt; certs/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;ca,mid-ca,server&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;/private&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;2025-03-10-21-49-06.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;3-create-index-files&#34;&gt;3. Create index files&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;touch certs/&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;ca,mid-ca&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;/index&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;2025-03-10-21-49-25.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;4-set-a-serial-number&#34;&gt;4. Set a serial number&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl rand -hex &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt; &amp;gt; certs/ca/serial&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl rand -hex &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt; &amp;gt; certs/mid-ca/serial&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;2025-03-10-21-49-55.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;5-copy-and-place-the-configuration-files&#34;&gt;5. Copy and place the configuration files&lt;/h3&gt;&#xA;&lt;p&gt;&lt;a href=&#34;ca.conf&#34;&gt;ca.conf&lt;/a&gt; - &lt;a href=&#34;mid-ca.conf&#34;&gt;mid-ca.conf&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;2025-03-10-21-50-13.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;see-also&#34;&gt;See also:&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-intial-setup/&#34;&gt;OpenSSL - Initial Setup&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-ca/&#34;&gt;OpenSSL (1) - Root CA&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-intermediate-ca/&#34;&gt;OpenSSL (2) - Intermediate CA&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-server-certificate/&#34;&gt;OpenSSL (3) - Server Certificate&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>OpenSSL (3) - Server Certificate</title>
      <link>http://localhost:1313/posts/openssl-server-certificate/</link>
      <pubDate>Sun, 09 Feb 2025 14:43:00 +1100</pubDate>
      <guid>http://localhost:1313/posts/openssl-server-certificate/</guid>
      <description>&lt;h2 id=&#34;create-a-server-certificate&#34;&gt;Create a Server Certificate&lt;/h2&gt;&#xA;&lt;h3 id=&#34;1-generate-a-key-file--it-can-be-one-off-operation&#34;&gt;1. Generate a key file  (It can be one-off operation)&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl genrsa -out server/private/server.key &lt;span style=&#34;color:#ae81ff&#34;&gt;2048&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-generate-a-certificate-signing-request-csr&#34;&gt;2. Generate a Certificate Signing Request (CSR)&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl req -config mid-ca/mid-ca.conf -key server/private/server.key -new -sha256 -out server/csr/server.csr&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;e.g., CN=GCS-Server-Certificate-v0x&lt;/p&gt;&#xA;&lt;h3 id=&#34;3-sign-the-request-csr-by-sub-ca&#34;&gt;3. Sign the request (CSR) by Sub-CA&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl ca -config mid-ca/mid-ca.conf -extensions server_cert -days &lt;span style=&#34;color:#ae81ff&#34;&gt;3650&lt;/span&gt; -notext -in server/csr/server.csr -out server/certs/server.crt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;4-generate-pfx-with-no-password&#34;&gt;4. Generate PFX with NO password&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl pkcs12 -inkey server/private/server.key -in server/certs/server.crt -export -out server/certs/server.pfx -passout pass:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;5-result&#34;&gt;5. Result&lt;/h3&gt;&#xA;&lt;p&gt;&lt;img src=&#34;2025-03-10-21-41-44.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>OpenSSL (2) - Intermediate CA</title>
      <link>http://localhost:1313/posts/openssl-intermediate-ca/</link>
      <pubDate>Sun, 09 Feb 2025 14:42:31 +1100</pubDate>
      <guid>http://localhost:1313/posts/openssl-intermediate-ca/</guid>
      <description>&lt;h2 id=&#34;create-a-intermediate-ca-certificate&#34;&gt;Create a “Intermediate CA” certificate&lt;/h2&gt;&#xA;&lt;h3 id=&#34;1-generate-a-key-file-for-intermediate-ca&#34;&gt;1. Generate a key file for “Intermediate CA”&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl genrsa -aes256 -out mid-ca/private/mid-ca.key &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-change-the-permission-of-mid-cakey&#34;&gt;2. Change the permission of mid-ca.key&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;chmod 400 mid-ca/private/mid-ca.key&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;3-generate-a-certificate-signing-request-csr&#34;&gt;3. Generate a Certificate Signing Request (CSR)&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl req -config ca/ca.conf -new -key mid-ca/private/mid-ca.key -sha256 -out mid-ca/csr/mid-ca.csr&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;2025-03-09-23-28-23.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;4-sign-the-request-file-by-root-ca&#34;&gt;4. Sign the request file by Root-CA&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl ca -config ca/ca.conf -extensions v3_mid_ca -days &lt;span style=&#34;color:#ae81ff&#34;&gt;3650&lt;/span&gt; -notext -in mid-ca/csr/mid-ca.csr -out mid-ca/certs/mid-ca.crt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;5-change-the-permission-of-mid-cacrt&#34;&gt;5. Change the permission of mid-ca.crt&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;chmod 444 mid-ca/certs/mid-ca.crt&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;6-check-a-backup-file-created-in-newcerts-dirctory&#34;&gt;6. Check a backup file created in newcerts dirctory&lt;/h3&gt;&#xA;&lt;p&gt;&lt;img src=&#34;2025-02-09-15-06-00.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>OpenSSL (1) - Root CA</title>
      <link>http://localhost:1313/posts/openssl-ca/</link>
      <pubDate>Sun, 09 Feb 2025 14:32:13 +1100</pubDate>
      <guid>http://localhost:1313/posts/openssl-ca/</guid>
      <description>&lt;h2 id=&#34;create-a-root-ca-certificate&#34;&gt;Create a “Root CA” certificate&lt;/h2&gt;&#xA;&lt;h3 id=&#34;1-generate-a-key-file-for-root-ca&#34;&gt;1. Generate a key file for “Root CA”&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl genrsa –aes256 -out ca/private/ca.key &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;2025-02-09-14-48-57.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;2-change-the-permission-of-cakey&#34;&gt;2. Change the permission of ca.key&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chmod &lt;span style=&#34;color:#ae81ff&#34;&gt;400&lt;/span&gt; ca/private/ca.key&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;3-check-the-content-of-cakey&#34;&gt;3. Check the content of ca.key&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;openssl rsa -noout -text -in ca/private/ca.key&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;4-generate-a-certificate-file-for-root-ca&#34;&gt;4. Generate a certificate file for “Root CA”&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;openssl req -config ca/ca.conf -key ca/private/ca.key -new -x509 -days &lt;span style=&#34;color:#ae81ff&#34;&gt;3650&lt;/span&gt; -sha256 -extensions v3_ca -out ca/certs/ca.crt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;2025-02-09-14-50-06.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;5-change-the-permission-of-cacrt&#34;&gt;5. Change the permission of ca.crt&lt;/h3&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chmod &lt;span style=&#34;color:#ae81ff&#34;&gt;444&lt;/span&gt; ca/certs/ca.crt &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;6-check-the-contents-of-cacrt&#34;&gt;6. Check the contents of ca.crt&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;openssl x509 -noout -text -in ca/certs/ca.crt&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;&#xA;&lt;h2 id=&#34;see-also&#34;&gt;See also:&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://localhost:1313/posts/openssl-intial-setup/&#34;&gt;OpenSSL - Initial Setup&lt;/a&gt;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
